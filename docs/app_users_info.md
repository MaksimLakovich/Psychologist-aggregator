# üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–∫–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (`AppUser(AbstractBaseUser, PermissionsMixin, TimeStampedModel)`), –∫–æ—Ç–æ—Ä–∞—è –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ `User` –≤ Django.

---

## üîë –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ `email`.
- –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `is_active` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **default=False** –∏ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ **True** –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email/phone.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–∞–¥–º–∏–Ω–æ–≤) —á–µ—Ä–µ–∑ —Ä–æ–ª–∏ (`is_staff`, `is_superuser`) –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ **permissions**.
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π –º–æ–¥–µ–ª–∏ –ø—Ä–æ—Ñ–∏–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –µ–≥–æ —Ä–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ (*–ö–ª–∏–µ–Ω—Ç*/*–ü—Å–∏—Ö–æ–ª–æ–≥*):
  - –º–æ–¥–µ–ª—å `PsychologistProfile`.
  - –º–æ–¥–µ–ª—å `ClientProfile`.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä `AppUserManager(BaseUserManager)` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å API —á–µ—Ä–µ–∑ JWT-—Ç–æ–∫–µ–Ω.

---

## üñ•Ô∏è –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (API + web)

### 1. –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...

### 2. API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...

### 3. –°–µ—Ä–≤–∏—Å–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (users/services/)

1. –ú–æ–¥—É–ª—å ***slug.py***:
   - `generate_unique_slug()` - —Å–µ—Ä–≤–∏—Å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π slug –¥–ª—è –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –º–æ–¥–µ–ª–∏.

---

## üóÇ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –≤ users/models.py

–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...

---

## üõ†Ô∏è –ê–¥–º–∏–Ω–∫–∏ –≤ users/admins.py

1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ (http://base_url/admin/) —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã Django.

2. –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–∫:
   - ...

---

## ‚öôÔ∏è –ú–µ–Ω–µ–¥–∂–µ—Ä `AppUserManager(BaseUserManager)` –≤ users/managers.py

–ö–∞—Å—Ç–æ–º–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

### –ú–µ—Ç–æ–¥—ã
- `create_user(email, password, **extra_fields)` - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- `create_superuser(email, password, **extra_fields)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

> ‚ö†Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è: Email –∏ –ø–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.

---

## üß© –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ –≥—Ä—É–ø–ø—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...

---

## üìå –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **–ª–æ–∫–∞–ª—å–Ω–æ** –¥–ª—è —Ç–µ—Å—Ç–∞:
```commandline
python manage.py createsuperuser
```

2. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ **—Å–µ—Ä–≤–µ—Ä–µ** –≤ –ø—Ä–æ–º–µ:
```commandline
docker exec -it <container_name_web> python manage.py createsuperuser
```

---
