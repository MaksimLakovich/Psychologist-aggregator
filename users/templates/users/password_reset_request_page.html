{% extends 'core/base.html' %}

{% load static %}

{% block title %} {{ title_password_reset_request_view|default:"Восстановление пароля" }} {% endblock %}

{% block content %}


<section class="bg-tranceparent min-h-screen flex flex-col md:flex-row">


    <!-- ========== ЛЕВАЯ ЧАСТЬ ========== -->

    <div class="w-full md:w-1/2 flex flex-col p-4 sm:p-12 md:p-4 bg-indigo-700 md:order-1 order-2">

        <!-- ========== ЛОГО (ЛЕВАЯ КОЛОНКА) ========== -->
        <div class="w-full max-w-md hidden md:flex items-center justify-between pb-1 mx-auto">
            <a href="{% url 'core:start-page' %}" class="flex mr-4">
                <img src="{% static 'images/logo/opora-logo-white.svg' %}" class="w-12 h-auto mr-0" alt="Logo_icon"/>
                <span class="text-5xl font-extrabold tracking-tight text-white sm:text-5xl">ОПОРА</span>
            </a>
        </div>

        <!-- ========== Иллюстрация ========== -->
        <div class="flex-1 flex items-center justify-center">
            <img src="{% static 'images/edit_reset_page/reset-password.svg' %}"
                 alt="Восстановление пароля"
                 class="w-2/5 h-auto">
        </div>
    </div>


    <!-- ========== ПРАВАЯ ЧАСТЬ ДЛЯ ВОССТАНОВЛЕНИЯ ПАРОЛЯ ========== -->

    <div class="w-full md:w-1/2 flex flex-col items-center p-4 sm:p-12 md:p-4 md:order-2 order-1">

        <!-- ========== КНОПКА НАЗАД (ПРАВАЯ КОЛОНКА) ========== -->
        <div class="w-full pb-1">
            <div class="w-full max-w-md mx-auto flex items-center justify-between md:hidden">
                <a href="{% url 'core:start-page' %}" class="flex mr-4">
                    <img src="{% static 'images/logo/opora-logo.svg' %}" class="w-12 h-auto mr-0" alt="Logo_icon"/>
                    <span class="text-5xl font-extrabold tracking-tight text-indigo-700 sm:text-5xl">ОПОРА</span>
                </a>
                <a href="{% url 'users:web:login-page' %}"
                   class="flex items-center gap-1 text-indigo-700 hover:bg-gray-100 focus:ring-4 focus:ring-indigo-300
                   font-medium rounded-lg text-base px-4 py-2 focus:outline-none">
                    <img src="{% static 'images/menu/back-icon.svg' %}" alt="Back_icon"/>
                    <span>Назад</span>
                </a>
            </div>
            <div class="w-full hidden md:flex">
                <div class="w-full max-w-md mx-auto flex justify-end">
                    <a href="{% url 'users:web:login-page' %}"
                       class="flex items-center gap-1 text-indigo-700 hover:bg-gray-100 focus:ring-4 focus:ring-indigo-300
                       font-medium rounded-lg text-base px-4 md:px-5 py-2 md:py-3 focus:outline-none">
                        <img src="{% static 'images/menu/back-icon.svg' %}" alt="Back_icon"/>
                        <span>Назад</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- ========== ВОССТАНОВЛЕНИЕ ПАРОЛЯ ========== -->
        <div class="w-full flex-1 flex items-center py-8 md:py-0">
            <div class="w-full max-w-md mx-auto">
                <h1 class="text-2xl md:text-3xl text-center text-zinc-400 font-extrabold leading-tight tracking-wide">
                    Восстановление пароля
                </h1>
                <p class="text-sm text-center text-zinc-400 tracking-wide pt-2 mb-6 md:mb-12">
                    Введите email, чтобы получить ссылку для сброса пароля
                </p>

                <!-- УВЕДОМЛЕНИЯ -->
                {% if messages %}
                <div class="space-y-2">
                    {% for message in messages %}
                    <div class="p-3 text-sm text-gray-700 bg-gray-50 rounded-md">
                        {{ message|linebreaksbr }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                <!-- ОБЩИЕ ОШИБКИ -->
                {% if form.non_field_errors %}
                <div class="p-3 text-center text-base tracking-wide text-pink-700 bg-pink-50 rounded-lg">
                    {% for err in form.non_field_errors %}
                    {{ err }}{% if not forloop.last %}<br>{% endif %}
                    {% endfor %}
                </div>
                {% endif %}

                <!-- ФОРМА ДЛЯ ВОССТАНОВЛЕНИЯ ПАРОЛЯ -->
                <form class="space-y-4 md:space-y-6 pb-12" method="post">
                    {% csrf_token %}

                    <!-- Email -->
                    <div class="pb-12">
                        <label for="{{ form.email.id_for_label }}"
                               class="block mb-2 text-base font-semibold tracking-wide text-zinc-600">
                            {{ form.email.label }}
                        </label>
                        {{ form.email }}

                        {% if form.email.errors %}
                        <p class="mt-2 text-sm tracking-wide text-pink-700">
                            {{ form.email.errors.0 }}
                        </p>
                        {% endif %}
                    </div>

                    <!-- Кнопка ПОДТВЕРЖДЕНИЯ -->
                    <button type="submit"
                            class="inline-flex items-center justify-center w-full px-6 py-3
                            border border-transparent text-base font-medium rounded-xl text-white bg-indigo-600 hover:bg-indigo-700
                            focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500
                            transition-all duration-200 shadow-md hover:shadow-lg">
                        Отправить ссылку
                    </button>

                </form>
            </div>
        </div>
    </div>


</section>

{% endblock %}
